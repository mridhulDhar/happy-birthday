<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy Birthday Divya ðŸŽ†</title>
  <style>
    :root{
      --bg:#050505;
      --red:#e50914;
      --white:#f5f5f5;
    }
    *{box-sizing:border-box}
    html,body{height:100%; margin:0; background:var(--bg); overflow:hidden; font-family: Arial, Helvetica, sans-serif;}
    canvas{position:fixed; inset:0; width:100%; height:100%; display:block;}

    /* Main text (HIDDEN until intro ends) */
    .wrap{
      position:fixed; inset:0;
      display:flex; flex-direction:column;
      align-items:center; justify-content:center;
      text-align:center;
      pointer-events:none;
      padding:20px;
      opacity:0;
      transform: translateY(8px);
      transition: opacity 700ms ease, transform 700ms ease;
      z-index:2;
    }
    .wrap.show{
      opacity:1;
      transform: translateY(0);
    }

    .title{
      color:var(--white);
      font-weight:900;
      letter-spacing:0.10em;
      font-size: clamp(28px, 5vw, 64px);
      text-transform:uppercase;
      margin:0 0 10px;
      text-shadow: 0 2px 30px rgba(255,255,255,0.08);
    }
    .name{
      color:var(--red);
      font-weight:900;
      font-size: clamp(44px, 8vw, 120px);
      letter-spacing:0.10em;
      margin:0;
      text-shadow: 0 0 18px rgba(229,9,20,0.35);
    }
    .hint{
      margin-top:16px;
      color:rgba(255,255,255,0.6);
      font-size: clamp(12px, 1.6vw, 16px);
      letter-spacing:0.12em;
      text-transform:uppercase;
    }

    /* Intro overlay */
    .intro{
      position:fixed; inset:0;
      display:flex; align-items:center; justify-content:center;
      background: radial-gradient(circle at center, rgba(229,9,20,0.10), rgba(0,0,0,0.96) 70%);
      z-index:5;
    }
    .intro.hidden{
      opacity:0;
      pointer-events:none;
      transition:opacity 800ms ease;
    }

    .letterBox{
      position:relative;
      width:min(65vmin, 520px);
      height:min(65vmin, 520px);
      display:grid;
      place-items:center;
      filter: drop-shadow(0 0 28px rgba(229,9,20,0.25));
    }

    /* Big D */
    .bigLetter{
      font-size: min(48vmin, 380px);
      font-weight:900;
      color: transparent;
      -webkit-text-stroke: 5px rgba(229,9,20,0.55);
      text-shadow:
        0 0 26px rgba(229,9,20,0.35),
        0 0 70px rgba(229,9,20,0.16);
      transform: scale(0.92);
      opacity:0;
    }

    /* Netflix-ish sweeping light (single bright beam + glow) */
    .beam{
      position:absolute;
      inset:-20%;
      background: linear-gradient(
        90deg,
        rgba(0,0,0,0) 0%,
        rgba(229,9,20,0.0) 38%,
        rgba(255,60,80,0.85) 50%,
        rgba(229,9,20,0.0) 62%,
        rgba(0,0,0,0) 100%
      );
      transform: translateX(-130%) skewX(-14deg);
      opacity:0;
      mix-blend-mode: screen;
      filter: blur(0.8px);
      animation: beamSweep 1250ms cubic-bezier(.2,.9,.2,1) forwards;
    }
    .glowPulse{
      position:absolute;
      width:70%;
      height:70%;
      border-radius:50%;
      background: radial-gradient(circle, rgba(229,9,20,0.35), rgba(0,0,0,0) 60%);
      opacity:0;
      animation: glow 1250ms ease-out forwards;
    }

    @keyframes beamSweep{
      0%   {opacity:0; transform: translateX(-130%) skewX(-14deg);}
      10%  {opacity:1;}
      80%  {opacity:1;}
      100% {opacity:0; transform: translateX(130%) skewX(-14deg);}
    }
    @keyframes glow{
      0%   {opacity:0; transform: scale(0.85);}
      25%  {opacity:1; transform: scale(1.03);}
      100% {opacity:0; transform: scale(1.18);}
    }

    .reveal{
      animation: popIn 700ms ease-out forwards;
      animation-delay: 240ms;
    }
    @keyframes popIn{
      0%{opacity:0; transform: scale(0.92);}
      45%{opacity:1; transform: scale(1.03);}
      100%{opacity:1; transform: scale(1.0);}
    }
  </style>
</head>
<body>
  <canvas id="fx"></canvas>

  <!-- Intro overlay -->
  <div class="intro" id="intro">
    <div class="letterBox">
      <div class="glowPulse"></div>
      <div class="beam"></div>
      <div class="bigLetter" id="bigLetter">D</div>
    </div>
  </div>

  <!-- Main text (shown AFTER intro finishes) -->
  <div class="wrap" id="mainText" aria-hidden="true">
    <h1 class="title">HAPPY BIRTHDAY</h1>
    <h2 class="name">DIVYA</h2>
    <div class="hint">Click / tap anywhere for new fireworks & hearts âœ¨</div>
  </div>

  <script>
    // ====== Tiny "boom" sound (no external files needed) ======
    let audioCtx = null;
    function playBoom(){
      try{
        audioCtx = audioCtx || new (window.AudioContext || window.webkitAudioContext)();
        const ctx = audioCtx;
        const now = ctx.currentTime;

        const osc1 = ctx.createOscillator();
        const g1 = ctx.createGain();
        osc1.type = "sine";
        osc1.frequency.setValueAtTime(95, now);
        osc1.frequency.exponentialRampToValueAtTime(45, now + 0.14);
        g1.gain.setValueAtTime(0.0001, now);
        g1.gain.exponentialRampToValueAtTime(0.85, now + 0.02);
        g1.gain.exponentialRampToValueAtTime(0.0001, now + 0.24);
        osc1.connect(g1).connect(ctx.destination);
        osc1.start(now);
        osc1.stop(now + 0.26);

        const osc2 = ctx.createOscillator();
        const g2 = ctx.createGain();
        osc2.type = "triangle";
        osc2.frequency.setValueAtTime(230, now + 0.02);
        osc2.frequency.exponentialRampToValueAtTime(140, now + 0.12);
        g2.gain.setValueAtTime(0.0001, now + 0.02);
        g2.gain.exponentialRampToValueAtTime(0.28, now + 0.04);
        g2.gain.exponentialRampToValueAtTime(0.0001, now + 0.16);
        osc2.connect(g2).connect(ctx.destination);
        osc2.start(now + 0.02);
        osc2.stop(now + 0.18);
      }catch(e){}
    }

    // ====== Intro timing ======
    const intro = document.getElementById("intro");
    const bigLetter = document.getElementById("bigLetter");
    const mainText = document.getElementById("mainText");

    function runIntro(){
      bigLetter.classList.add("reveal");
      playBoom();

      // when the sweep ends, fade out intro then show main text
      setTimeout(()=>{
        intro.classList.add("hidden");
      }, 1350);

      setTimeout(()=>{
        mainText.classList.add("show"); // now "Happy Birthday Divya" appears and stays
      }, 1500);
    }

    // ====== Fireworks / hearts engine ======
    const canvas = document.getElementById("fx");
    const ctx = canvas.getContext("2d");

    let W=0,H=0,dpr=1;
    function resize(){
      dpr = Math.min(2, window.devicePixelRatio || 1);
      W = Math.floor(window.innerWidth * dpr);
      H = Math.floor(window.innerHeight * dpr);
      canvas.width = W; canvas.height = H;
    }
    window.addEventListener("resize", resize);
    resize();

    const particles = [];
    function rand(a,b){ return a + Math.random()*(b-a); }

    function addFirework(x,y,style=0){
      const count = style===0 ? 140 : style===1 ? 90 : 170;
      const speed = style===0 ? 7.1 : style===1 ? 5.6 : 7.8;
      for(let i=0;i<count;i++){
        const a = (Math.PI*2)*(i/count) + rand(-0.03,0.03);
        const sp = speed*rand(0.55,1.20);
        particles.push({
          x,y,
          vx: Math.cos(a)*sp,
          vy: Math.sin(a)*sp,
          life: rand(55,105),
          size: rand(1.1,2.6),
          kind:"spark",
          drag: rand(0.972,0.987),
          grav: rand(0.06,0.11),
          tw: rand(0.2,1.0)
        });
      }
    }

    function addHearts(x,y){
      const count = 80;
      for(let i=0;i<count;i++){
        const t = (Math.PI*2)*(i/count);
        const hx = 16*Math.pow(Math.sin(t),3);
        const hy = -(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t));
        const scale = rand(0.24,0.46);
        particles.push({
          x,y,
          vx: hx*scale*0.35 + rand(-0.9,0.9),
          vy: hy*scale*0.35 + rand(-0.9,0.9),
          life: rand(70,125),
          size: rand(2.0,3.6),
          kind:"heart",
          drag: rand(0.970,0.985),
          grav: rand(0.03,0.06),
          tw: rand(0.4,1.0)
        });
      }
    }

    // Continuous background fireworks (always)
    let autoTimer = 0;
    function autoFireworks(){
      autoTimer++;
      if(autoTimer % 34 === 0){
        addFirework(rand(W*0.15, W*0.85), rand(H*0.14, H*0.45), (Math.random()*3)|0);
      }
      if(autoTimer % 170 === 0){
        addHearts(rand(W*0.25,W*0.75), rand(H*0.25,H*0.55));
      }
    }

    function draw(){
      ctx.fillStyle = "rgba(0,0,0,0.18)";
      ctx.fillRect(0,0,W,H);

      for(let i=particles.length-1;i>=0;i--){
        const p = particles[i];
        p.x += p.vx*dpr;
        p.y += p.vy*dpr;
        p.vx *= p.drag;
        p.vy *= p.drag;
        p.vy += p.grav*dpr;
        p.life--;

        const alpha = Math.max(0, Math.min(1, p.life/105));
        const tw = 0.6 + 0.4*Math.sin((p.life*0.35) + p.tw);

        if(p.kind==="heart"){
          ctx.fillStyle = `rgba(229,9,20,${0.9*alpha})`;
          const s = p.size*dpr*tw;
          const x=p.x, y=p.y;
          ctx.beginPath();
          ctx.moveTo(x, y);
          ctx.bezierCurveTo(x - s, y - s, x - 2*s, y + s*0.6, x, y + 2.1*s);
          ctx.bezierCurveTo(x + 2*s, y + s*0.6, x + s, y - s, x, y);
          ctx.fill();
        }else{
          ctx.fillStyle = `rgba(245,245,245,${0.88*alpha*tw})`;
          const s = p.size*dpr*tw;
          ctx.beginPath();
          ctx.arc(p.x,p.y,s,0,Math.PI*2);
          ctx.fill();
        }

        if(p.life<=0 || p.x<-220 || p.x>W+220 || p.y<-220 || p.y>H+340){
          particles.splice(i,1);
        }
      }

      autoFireworks();
      requestAnimationFrame(draw);
    }
    requestAnimationFrame(draw);

    // Click anywhere -> new burst type + boom
    function onPointer(e){
      const rect = canvas.getBoundingClientRect();
      const x = (e.clientX - rect.left) * dpr;
      const y = (e.clientY - rect.top) * dpr;
      if(Math.random() < 0.58) addFirework(x,y,(Math.random()*3)|0);
      else addHearts(x,y);
      playBoom();
    }
    window.addEventListener("pointerdown", onPointer, {passive:true});

    // Start intro after first paint
    setTimeout(runIntro, 60);
  </script>
</body>
</html>
