<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy Birthday Divya ðŸŽ†</title>
  <style>
    :root{
      --bg:#050505;
      --red:#e50914;
      --white:#f5f5f5;
    }
    *{box-sizing:border-box}
    html,body{height:100%; margin:0; background:var(--bg); overflow:hidden; font-family: Arial, Helvetica, sans-serif;}
    canvas{position:fixed; inset:0; width:100%; height:100%; display:block;}

    /* Center content */
    .wrap{
      position:fixed; inset:0;
      display:flex; flex-direction:column;
      align-items:center; justify-content:center;
      text-align:center;
      pointer-events:none;
      padding:20px;
    }

    .title{
      color:var(--white);
      font-weight:900;
      letter-spacing:0.08em;
      font-size: clamp(28px, 5vw, 64px);
      text-transform:uppercase;
      margin:0 0 10px;
      text-shadow: 0 2px 30px rgba(255,255,255,0.08);
    }

    .nameRow{
      display:flex; gap:12px;
      align-items:flex-end; justify-content:center;
      margin:0;
    }

    .name{
      color:var(--red);
      font-weight:900;
      font-size: clamp(44px, 8vw, 110px);
      letter-spacing:0.12em;
      margin:0;
      text-shadow: 0 0 18px rgba(229,9,20,0.35);
    }

    .hint{
      margin-top:16px;
      color:rgba(255,255,255,0.6);
      font-size: clamp(12px, 1.6vw, 16px);
      letter-spacing:0.12em;
      text-transform:uppercase;
    }

    /* Cinematic letter reveal overlay */
    .intro{
      position:fixed; inset:0;
      display:flex; align-items:center; justify-content:center;
      background: radial-gradient(circle at center, rgba(229,9,20,0.10), rgba(0,0,0,0.95) 65%);
      z-index:5;
    }
    .intro.hidden{opacity:0; pointer-events:none; transition:opacity 600ms ease;}

    .letterBox{
      position:relative;
      width:min(60vmin, 420px);
      height:min(60vmin, 420px);
      display:grid;
      place-items:center;
      filter: drop-shadow(0 0 18px rgba(229,9,20,0.25));
    }

    /* The big D */
    .bigLetter{
      font-size: min(42vmin, 320px);
      font-weight:900;
      color:transparent;
      -webkit-text-stroke: 4px rgba(229,9,20,0.45);
      text-shadow:
        0 0 24px rgba(229,9,20,0.35),
        0 0 50px rgba(229,9,20,0.18);
      transform: scale(0.92);
      opacity:0.0;
    }

    /* Moving light streaks */
    .streaks{
      position:absolute; inset:-10%;
      overflow:hidden;
      -webkit-mask-image: linear-gradient(to right, transparent 0%, black 18%, black 82%, transparent 100%);
              mask-image: linear-gradient(to right, transparent 0%, black 18%, black 82%, transparent 100%);
    }
    .streak{
      position:absolute;
      top:-20%;
      width: 10px;
      height: 140%;
      background: linear-gradient(to bottom,
        rgba(229,9,20,0.0),
        rgba(229,9,20,0.9),
        rgba(229,9,20,0.0)
      );
      filter: blur(0.2px);
      opacity:0.0;
      transform: translateX(-140%) skewX(-12deg);
      animation: sweep 1050ms ease-in-out forwards;
    }
    @keyframes sweep{
      0%{opacity:0; transform: translateX(-140%) skewX(-12deg);}
      10%{opacity:1;}
      70%{opacity:1;}
      100%{opacity:0; transform: translateX(140%) skewX(-12deg);}
    }

    .reveal{
      animation: popIn 700ms ease-out forwards;
      animation-delay: 280ms;
    }
    @keyframes popIn{
      0%{opacity:0; transform: scale(0.92);}
      45%{opacity:1; transform: scale(1.03);}
      100%{opacity:1; transform: scale(1.0);}
    }
  </style>
</head>
<body>
  <canvas id="fx"></canvas>

  <!-- Intro overlay -->
  <div class="intro" id="intro">
    <div class="letterBox">
      <div class="streaks" id="streaks"></div>
      <div class="bigLetter" id="bigLetter">D</div>
    </div>
  </div>

  <!-- Main text -->
  <div class="wrap" aria-hidden="true">
    <h1 class="title">HAPPY BIRTHDAY</h1>
    <div class="nameRow">
      <h2 class="name">DIVYA</h2>
    </div>
    <div class="hint">Click / tap anywhere for new fireworks & hearts âœ¨</div>
  </div>

  <script>
    // ====== Tiny "boom" sound (no external files needed) ======
    function playBoom(){
      try{
        const ctx = new (window.AudioContext || window.webkitAudioContext)();
        const now = ctx.currentTime;

        // low thump
        const osc1 = ctx.createOscillator();
        const g1 = ctx.createGain();
        osc1.type = "sine";
        osc1.frequency.setValueAtTime(90, now);
        osc1.frequency.exponentialRampToValueAtTime(45, now + 0.12);
        g1.gain.setValueAtTime(0.0001, now);
        g1.gain.exponentialRampToValueAtTime(0.8, now + 0.02);
        g1.gain.exponentialRampToValueAtTime(0.0001, now + 0.22);
        osc1.connect(g1).connect(ctx.destination);
        osc1.start(now);
        osc1.stop(now + 0.25);

        // quick higher click
        const osc2 = ctx.createOscillator();
        const g2 = ctx.createGain();
        osc2.type = "triangle";
        osc2.frequency.setValueAtTime(220, now + 0.02);
        osc2.frequency.exponentialRampToValueAtTime(140, now + 0.10);
        g2.gain.setValueAtTime(0.0001, now + 0.02);
        g2.gain.exponentialRampToValueAtTime(0.25, now + 0.04);
        g2.gain.exponentialRampToValueAtTime(0.0001, now + 0.14);
        osc2.connect(g2).connect(ctx.destination);
        osc2.start(now + 0.02);
        osc2.stop(now + 0.16);

        // close context soon
        setTimeout(()=>ctx.close(), 500);
      }catch(e){}
    }

    // ====== Intro animation (cinematic D reveal) ======
    const intro = document.getElementById("intro");
    const streaks = document.getElementById("streaks");
    const bigLetter = document.getElementById("bigLetter");

    function makeStreaks(){
      streaks.innerHTML = "";
      const n = 18;
      for(let i=0;i<n;i++){
        const s = document.createElement("div");
        s.className = "streak";
        const left = (i/(n-1))*100;
        const delay = (Math.random()*220)|0;
        const dur = 820 + (Math.random()*380)|0;
        s.style.left = `calc(${left}% - 6px)`;
        s.style.animationDelay = `${delay}ms`;
        s.style.animationDuration = `${dur}ms`;
        s.style.opacity = "0";
        streaks.appendChild(s);
        // force paint then run
        requestAnimationFrame(()=> s.style.opacity = "1");
      }
    }

    function runIntro(){
      makeStreaks();
      bigLetter.classList.add("reveal");
      playBoom();

      // Hide intro, keep main message permanently visible
      setTimeout(()=>{
        intro.classList.add("hidden");
      }, 1300);
    }

    // ====== Fireworks / hearts engine ======
    const canvas = document.getElementById("fx");
    const ctx = canvas.getContext("2d");

    let W=0,H=0,dpr=1;
    function resize(){
      dpr = Math.min(2, window.devicePixelRatio || 1);
      W = Math.floor(window.innerWidth * dpr);
      H = Math.floor(window.innerHeight * dpr);
      canvas.width = W; canvas.height = H;
    }
    window.addEventListener("resize", resize);
    resize();

    const particles = [];
    function rand(a,b){ return a + Math.random()*(b-a); }

    function addFirework(x,y,style=0){
      const count = style===0 ? 120 : style===1 ? 80 : 140;
      const speed = style===0 ? 6.5 : style===1 ? 5.5 : 7.2;
      for(let i=0;i<count;i++){
        const a = (Math.PI*2)*(i/count) + rand(-0.02,0.02);
        const sp = speed*rand(0.55,1.15);
        const vx = Math.cos(a)*sp;
        const vy = Math.sin(a)*sp;
        particles.push({
          x,y,vx,vy,
          life: rand(50,95),
          size: rand(1.2,2.4),
          kind:"spark",
          drag: rand(0.972,0.986),
          grav: rand(0.06,0.10),
          tw: rand(0.2,1.0)
        });
      }
    }

    // heart burst (parametric heart)
    function addHearts(x,y){
      const count = 70;
      for(let i=0;i<count;i++){
        const t = (Math.PI*2)*(i/count);
        // heart curve
        const hx = 16*Math.pow(Math.sin(t),3);
        const hy = -(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t));
        const scale = rand(0.25,0.45);
        const vx = hx*scale*0.35 + rand(-0.8,0.8);
        const vy = hy*scale*0.35 + rand(-0.8,0.8);
        particles.push({
          x,y,vx,vy,
          life: rand(60,110),
          size: rand(2.0,3.4),
          kind:"heart",
          drag: rand(0.970,0.985),
          grav: rand(0.03,0.06),
          tw: rand(0.4,1.0)
        });
      }
    }

    // continuous background fireworks
    let autoTimer = 0;
    function autoFireworks(){
      autoTimer++;
      if(autoTimer % 40 === 0){ // ~every 0.66s at 60fps
        const x = rand(W*0.15, W*0.85);
        const y = rand(H*0.15, H*0.45);
        const style = (Math.random()*3)|0;
        addFirework(x,y,style);
      }
      // occasional hearts
      if(autoTimer % 180 === 0){
        addHearts(rand(W*0.25,W*0.75), rand(H*0.25,H*0.55));
      }
    }

    function draw(){
      // fade frame (keeps trails)
      ctx.fillStyle = "rgba(0,0,0,0.18)";
      ctx.fillRect(0,0,W,H);

      for(let i=particles.length-1;i>=0;i--){
        const p = particles[i];
        p.x += p.vx*dpr;
        p.y += p.vy*dpr;
        p.vx *= p.drag;
        p.vy *= p.drag;
        p.vy += p.grav*dpr;
        p.life--;

        const alpha = Math.max(0, Math.min(1, p.life/90));
        const tw = 0.6 + 0.4*Math.sin((p.life*0.35) + p.tw);

        if(p.kind==="heart"){
          // heart color (red/pink feel without hardcoding too much)
          ctx.fillStyle = `rgba(229,9,20,${0.85*alpha})`;
          // draw a tiny heart shape
          const s = p.size*dpr*tw;
          ctx.beginPath();
          const x=p.x, y=p.y;
          ctx.moveTo(x, y);
          ctx.bezierCurveTo(x - s, y - s, x - 2*s, y + s*0.6, x, y + 2.1*s);
          ctx.bezierCurveTo(x + 2*s, y + s*0.6, x + s, y - s, x, y);
          ctx.fill();
        }else{
          // spark
          ctx.fillStyle = `rgba(245,245,245,${0.85*alpha*tw})`;
          const s = p.size*dpr*tw;
          ctx.beginPath();
          ctx.arc(p.x,p.y,s,0,Math.PI*2);
          ctx.fill();
        }

        if(p.life<=0 || p.x<-200 || p.x>W+200 || p.y<-200 || p.y>H+300){
          particles.splice(i,1);
        }
      }

      autoFireworks();
      requestAnimationFrame(draw);
    }
    requestAnimationFrame(draw);

    // Click anywhere â†’ random burst type
    function onPointer(e){
      const rect = canvas.getBoundingClientRect();
      const x = (e.clientX - rect.left) * dpr;
      const y = (e.clientY - rect.top) * dpr;

      // alternate random types
      const r = Math.random();
      if(r < 0.55){
        addFirework(x,y,(Math.random()*3)|0);
      }else{
        addHearts(x,y);
      }
      // little extra boom feel
      playBoom();
    }
    window.addEventListener("pointerdown", onPointer, {passive:true});

    // Start intro after first paint
    setTimeout(runIntro, 80);
  </script>
</body>
</html>
